(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{148:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(1),r=(n(0),n(170));const o={title:"Installation"},i={id:"introduction/installation",title:"Installation",description:"## NPM",source:"@site/docs/introduction/installation.md",permalink:"/docs/introduction/installation",editUrl:"https://github.com/facebookexperimental/Recoil/edit/docs/docs/docs/introduction/installation.md",sidebar:"docs",previous:{title:"Core Concepts",permalink:"/docs/introduction/core-concepts"},next:{title:"Getting Started",permalink:"/docs/introduction/getting-started"}},c=[{value:"NPM",id:"npm",children:[{value:"Bundler",id:"bundler",children:[]},{value:"ES5 support",id:"es5-support",children:[]}]},{value:"CDN",id:"cdn",children:[]},{value:"ESLint",id:"eslint",children:[]},{value:"Nightly Builds",id:"nightly-builds",children:[]}],l={rightToc:c};function p({components:e,...t}){return Object(r.b)("wrapper",Object(a.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"npm"},"NPM"),Object(r.b)("p",null,"The Recoil package lives in ",Object(r.b)("a",{href:"https://www.npmjs.com/get-npm",target:"_blank"},"npm"),". To install the latest stable version, run the following command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"npm install recoil\n")),Object(r.b)("p",null,"Or if you're using ",Object(r.b)("a",{href:"https://classic.yarnpkg.com/en/docs/install/",target:"_blank"},"yarn"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"yarn add recoil\n")),Object(r.b)("h3",{id:"bundler"},"Bundler"),Object(r.b)("p",null,"Recoil installed via NPM pairs nicely with module bundlers such as ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://webpack.js.org/"}),"Webpack")," or ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://rollupjs.org/"}),"Rollup"),"."),Object(r.b)("h3",{id:"es5-support"},"ES5 support"),Object(r.b)("p",null,"Recoil builds are not transpiled to ES5, and we do not support the use of Recoil with ES5. If you need to support browsers that do not provide ES6 features natively, you can do so by compiling your code with ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://babeljs.io/"}),"Babel")," and using preset ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://babeljs.io/docs/en/babel-preset-env"}),"@babel/preset-env"),". However, we do not support this and you may run into problems."),Object(r.b)("p",null,"In particular, ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://reactjs.org/docs/javascript-environment-requirements.html"}),"just like React"),", Recoil depends on the ",Object(r.b)("inlineCode",{parentName:"p"},"Map")," and ",Object(r.b)("inlineCode",{parentName:"p"},"Set")," types and other features of ES6. Emulation of these features using polyfills may result in far worse performance."),Object(r.b)("h2",{id:"cdn"},"CDN"),Object(r.b)("p",null,"Since version 0.0.11, Recoil offers a UMD build that can be directly used in a ",Object(r.b)("inlineCode",{parentName:"p"},"<script>")," tag and exposes the symbol ",Object(r.b)("inlineCode",{parentName:"p"},"Recoil")," to the global namespace. We recommend linking to a specific version number and build to avoid unexpected breakage from newer versions:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<script src="https://cdn.jsdelivr.net/npm/recoil@0.0.11/umd/recoil.production.js"><\/script>\n')),Object(r.b)("p",null,"You can browse all Recoil files on the CDN at ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.jsdelivr.com/package/npm/recoil"}),"jsdelivr"),"."),Object(r.b)("h2",{id:"eslint"},"ESLint"),Object(r.b)("p",null,"If you are using ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.npmjs.com/package/eslint-plugin-react-hooks"}),"eslint-plugin-react-hooks")," in your project. For example, with an eslint config like this:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'// previous .eslint config\n{\n  "plugins": [\n    "react-hooks"\n  ],\n  "rules": {\n    "react-hooks/rules-of-hooks": "error",\n    "react-hooks/exhaustive-deps": "warn"\n  }\n}\n')),Object(r.b)("p",null,"It is recommended to add ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/api-reference/core/useRecoilCallback"}),Object(r.b)("inlineCode",{parentName:"a"},"'useRecoilCallback'"))," to the list of ",Object(r.b)("inlineCode",{parentName:"p"},"additionalHooks"),". With this change, ESLint will warn when the dependencies passed to ",Object(r.b)("inlineCode",{parentName:"p"},"useRecoilCallback()")," are specified incorrectly and suggests a fix.  The format of ",Object(r.b)("inlineCode",{parentName:"p"},"additionalHooks")," is a regex string."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'// modified .eslint config\n{\n  "plugins": [\n    "react-hooks"\n  ],\n  "rules": {\n    "react-hooks/rules-of-hooks": "error",\n    "react-hooks/exhaustive-deps": [\n      "warn", {\n        "additionalHooks": "useRecoilCallback"\n      }\n    ]\n  }\n}\n')),Object(r.b)("h2",{id:"nightly-builds"},"Nightly Builds"),Object(r.b)("p",null,"We build a package once every day based on the current ",Object(r.b)("inlineCode",{parentName:"p"},"master")," branch and publish it as the ",Object(r.b)("inlineCode",{parentName:"p"},"nightly")," branch on GitHub.  You can use this branch via ",Object(r.b)("inlineCode",{parentName:"p"},"npm"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"npm install https://github.com/facebookexperimental/Recoil.git#nightly\n")),Object(r.b)("p",null," or ",Object(r.b)("inlineCode",{parentName:"p"},"yarn"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"yarn add https://github.com/facebookexperimental/Recoil.git#nightly\n")),Object(r.b)("p",null,"  or add a dependency in ",Object(r.b)("inlineCode",{parentName:"p"},"package.json")," and run ",Object(r.b)("inlineCode",{parentName:"p"},"npm install")," or ",Object(r.b)("inlineCode",{parentName:"p"},"yarn"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'  "recoil": "facebookexperimental/Recoil.git#nightly",\n')))}p.isMDXComponent=!0},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),s=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},b=function(e){var t=s(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),b=s(n),d=a,m=b["".concat(i,".").concat(d)]||b[d]||u[d]||o;return n?r.a.createElement(m,c({ref:t},p,{components:n})):r.a.createElement(m,c({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);