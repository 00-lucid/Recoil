(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{126:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return b}));var r=a(3),o=a(8),n=(a(0),a(149)),i={title:"Recoil 0.1.1"},c={permalink:"/blog/2020/10/30/0.1.1-released",editUrl:"https://github.com/facebookexperimental/Recoil/edit/docs/docs/blog/blog/2020-10-30-0.1.1-released.md",source:"@site/blog/2020-10-30-0.1.1-released.md",description:"Welcome to Recoil version 0.1.1!  This release has performance improvements and introduces several experimental features such as support for React Native, working with Snapshots outside of React, and atom effects for managing side-effects of atoms such as logging, synchronization with external stores, persistence, etc.",date:"2020-10-30T00:00:00.000Z",formattedDate:"October 29, 2020",tags:[],title:"Recoil 0.1.1",readingTime:2.145,truncated:!0,prevItem:{title:"Recoil 0.2.0",permalink:"/blog/2021/03/22/0.2.0-released"},nextItem:{title:"Recoil 0.0.11",permalink:"/blog/2020/09/15/0.0.11-released"}},l=[{value:"Performance",id:"performance",children:[]},{value:"React Native (<em>Experimental</em>)",id:"react-native-experimental",children:[]},{value:"Atom Effects (<em>Experimental</em>)",id:"atom-effects-experimental",children:[]},{value:"Snapshots for Testing (<em>Experimental</em>)",id:"snapshots-for-testing-experimental",children:[]},{value:"Bug Fixes",id:"bug-fixes",children:[]},{value:"Future Work",id:"future-work",children:[]}],p={toc:l};function b(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(n.b)("wrapper",Object(r.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Welcome to Recoil version 0.1.1!  This release has performance improvements and introduces several ",Object(n.b)("em",{parentName:"p"},"experimental")," features such as support for React Native, working with Snapshots outside of React, and atom effects for managing side-effects of atoms such as logging, synchronization with external stores, persistence, etc."),Object(n.b)("p",null,"Also, ",Object(n.b)("a",{parentName:"p",href:"/docs/introduction/installation#nightly-builds"},"nightly builds")," are now available via the ",Object(n.b)("inlineCode",{parentName:"p"},"nightly")," branch."),Object(n.b)("h2",{id:"performance"},"Performance"),Object(n.b)("p",null,"Several changes to improve Recoil's performance:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Updates performed during ",Object(n.b)("inlineCode",{parentName:"li"},"useRecoilCallback()")," are now batched, which avoids copying data structures or performing updates for intermediate states.  This allowed setting 5,000 atoms in a loop to go from 10s -> 25ms with some of our stress tests. (",Object(n.b)("a",{parentName:"li",href:"https://github.com/davidmccabe"},"@davidmccabe"),")"),Object(n.b)("li",{parentName:"ul"},"Recoil also now avoids looking up selector values in cache if the selector's dependencies have not changed.  This improved some applications with complex data-flow graphs by 30-40x. (",Object(n.b)("a",{parentName:"li",href:"https://github.com/davidmccabe"},"@davidmccabe"),")")),Object(n.b)("h2",{id:"react-native-experimental"},"React Native (",Object(n.b)("em",{parentName:"h2"},"Experimental"),")"),Object(n.b)("p",null,"Recoil should now work with the React Native environment.  However, similar to server side rendering, it is not officially supported. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/114"},"#114")," - ",Object(n.b)("a",{parentName:"p",href:"https://github.com/jacques-blom"},"@jacques-blom"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/mondaychen"},"@mondaychen"),")"),Object(n.b)("h2",{id:"atom-effects-experimental"},"Atom Effects (",Object(n.b)("em",{parentName:"h2"},"Experimental"),")"),Object(n.b)("p",null,Object(n.b)("a",{parentName:"p",href:"/docs/guides/atom-effects"},"Effects for atoms")," simplifies managing side-effect policies for atoms on a per-atom basis as part of the ",Object(n.b)("inlineCode",{parentName:"p"},"atom()")," or ",Object(n.b)("inlineCode",{parentName:"p"},"atomFamily()")," definition.  Effects can be used for interesting applications such as ",Object(n.b)("a",{parentName:"p",href:"/docs/guides/atom-effects#logging-example"},"logging")," and state synchronization or persistence with external storage such as ",Object(n.b)("a",{parentName:"p",href:"/docs/guides/atom-effects#state-synchronization-example"},"remote databases"),", ",Object(n.b)("a",{parentName:"p",href:"/docs/guides/atom-effects#local-storage-persistence"},"local storage"),", browser URL history, etc.  For example, you could use an atom as a local copy of some user state and provide an effect to subscribe to changes on a server to update the local copy and for local changes to write-through and update the server. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/680"},"#680"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/380"},"#380"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/381"},"#381"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/384"},"#384"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/385"},"#385"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/448"},"#448"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/449"},"#449"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/412"},"#412"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/591"},"#591"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/634"},"#634"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/682"},"#682")," ","\u2014"," ",Object(n.b)("a",{parentName:"p",href:"https://github.com/drarmstr"},"@drarmstr"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/csantos4242"},"@csantos4242"),")"),Object(n.b)("h2",{id:"snapshots-for-testing-experimental"},"Snapshots for Testing (",Object(n.b)("em",{parentName:"h2"},"Experimental"),")"),Object(n.b)("p",null,"Snapshots can now be ",Object(n.b)("a",{parentName:"p",href:"/docs/api-reference/core/Snapshot#building-a-snapshot"},"constructed outside of a React context"),".  This can be useful for ",Object(n.b)("a",{parentName:"p",href:"/docs/guides/testing"},"testing")," or evaluating selectors outside of a React context. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/facebookexperimental/Recoil/pull/649"},"#649")," ","\u2014"," ",Object(n.b)("a",{parentName:"p",href:"https://github.com/drarmstr"},"@drarmstr"),", ",Object(n.b)("a",{parentName:"p",href:"https://github.com/habond"},"@habond"),")"),Object(n.b)("h2",{id:"bug-fixes"},"Bug Fixes"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"This update has various bug fixes for testing and infrastructure. (",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/555"},"#555"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/587"},"#587"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/588"},"#588"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/590"},"#590"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/635"},"#635"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/631"},"#631"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/683"},"#683"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/684"},"#684"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/686"},"#686")," ","\u2014"," ",Object(n.b)("a",{parentName:"li",href:"https://github.com/aaronabramov"},"@aaronabramov"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/mondaychen"},"@mondaychen"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/drarmstr"},"@drarmstr"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/mallchel"},"@mallchel"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/davidmccabe"},"@davidmccabe"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/csantos4242"},"@csantos4242"),")"),Object(n.b)("li",{parentName:"ul"},"Do not freeze objects which should not be frozen. (",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/597"},"#597"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/633"},"#633"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/672"},"#672")," ","\u2014"," ",Object(n.b)("a",{parentName:"li",href:"https://github.com/RinGoku"},"@RinGoku"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/a-sane"},"@a-sane"),")"),Object(n.b)("li",{parentName:"ul"},"TypeScript typing for ",Object(n.b)("inlineCode",{parentName:"li"},"Snapshot"),". (",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/687"},"#687")," ","\u2014"," ",Object(n.b)("a",{parentName:"li",href:"https://github.com/kevinfrei"},"@kevinfrei"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/drarmstr"},"@drarmstr"),", ",Object(n.b)("a",{parentName:"li",href:"https://github.com/habond"},"@habond"),")"),Object(n.b)("li",{parentName:"ul"},"Additional testing for ",Object(n.b)("inlineCode",{parentName:"li"},"waitForAll()")," concurrency. (",Object(n.b)("a",{parentName:"li",href:"https://github.com/facebookexperimental/Recoil/pull/681"},"#681")," ","\u2014"," ",Object(n.b)("a",{parentName:"li",href:"https://github.com/drarmstr"},"@drarmstr"),")")),Object(n.b)("h2",{id:"future-work"},"Future Work"),Object(n.b)("p",null,"In a future release, Recoil will automatically free the memory used by atoms and selectors that are no longer used, and will perform better with larger numbers of atoms. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/davidmccabe"},"@davidmccabe"),")"),Object(n.b)("p",null,"Releasing our prototype Chrome developer tools. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/maxijb"},"@maxijb"),")"),Object(n.b)("p",null,"Libraries of effects for common state persistence, such as browser local storage or URL history. (",Object(n.b)("a",{parentName:"p",href:"https://github.com/bezi"},"@bezi"),")"),Object(n.b)("p",null,"Thanks for your continued interest in Recoil!"))}b.isMDXComponent=!0},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var r=a(0),o=a.n(r);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=o.a.createContext({}),b=function(e){var t=o.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},s=function(e){var t=b(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},h=o.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=b(a),h=r,u=s["".concat(i,".").concat(h)]||s[h]||m[h]||n;return a?o.a.createElement(u,c(c({ref:t},p),{},{components:a})):o.a.createElement(u,c({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,i=new Array(n);i[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var p=2;p<n;p++)i[p]=a[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,a)}h.displayName="MDXCreateElement"}}]);